{% extends "layout.html" %}

{% block body %}
<div class="container">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<div class="row">
   <div class="col-md-6" style="float:left;">
        <h3>
            <meta charset="utf-8">
            <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS MNRCA 5WhyRCA Task Status <b></p>
        </h3>
            <div id="new5WhyRcaStatus" style="width:600px;height:400px;"></div>
	</div>
    <div class="col-md-6" style="float:right;">
        <h3>
            <meta charset="utf-8">
            <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS MNRCA RCA/EDA Status<b></p>
        </h3>
        <div id="newRcaEdaStatus" style="width:600px;height:400px;"></div>
    </div>
</div>
<hr>

<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS MNRCA RCA/EDA AP Status <b></p>
</h2>
    <div id="newRcaEdaApStatus" style="width:600px;height:400px;"></div>
		
<hr>
<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS Monthly MNRCA 5WhyRca Status <b></p>
</h2>
    <div id="hzmonthlyfivewhyrca" style="width:1200px;height:600px;"></div>
<hr>
<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS Monthly MNRCA RCA/EDA Status <b></p>
</h2>
    <div id="hzmonthlyRcaEda" style="width:1200px;height:600px;"></div>
<hr>

<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> TDD-MACPS Monthly MNRCA RCA/EDA AP Status <b></p>
</h2>
    <div id="hzmonthlyRcaEdaAp" style="width:1200px;height:600px;"></div>
		
<hr>

<div class="row">
   <div class="col-md-6" style="float:left;">
<h2>
    <meta charset="utf-8">

    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> Team MNRCA RCA/EDA Status<b></p>
</h2>
		<div id="customer_rca" style="width:600px;height:400px;"></div>
	</div>

	<div class="col-md-6" style="float:right;">
<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> Team MNRCA RCA/EDA AP Status<b></p>
</h2>
<div id="teammonthlyRcaEdaAp" style="width:600px;height:400px;"></div>
	</div>
</div>
<h2>

<hr>
	<p> <b style="color:red;"> </b> <b style="color:blue;"> TDD-MACPS MNRCA RCA/EDA Status<b></p>
</h2>
<div id="tdd_customer_rca" style="width:900px;height:600px;"></div>
<hr>
<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;"> </b> <b style="color:blue;"> TDD-MACPS MNRCA RCA/EDA AP Status<b></p>
	<br>
</h2>
<div id="tdd_customer_ap" style="width:900px;height:600px;"></div>

<hr>

<h2>
    <meta charset="utf-8">

    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;">RootCause Category Distribution<b></p>
</h2>
	<div id="rootcausedistribution" style="width:900px;height:600px;"></div>
<hr>
<h2>
    <meta charset="utf-8">
    <p> <b style="color:red;">{{titlemessage}}</b> <b style="color:blue;"> Function Area Distribution <b></p>
</h2>
    <div id="functionareadistribution" style="width:900px;height:600px;"></div>
<hr>

<a class="cur STRING_BASE" href="http://rca-shark.int.nokia.com/dashboard"><strong>Detail Information</strong></a> 
</div>
<script type="text/javascript">

var myChart5WhyRcaStatus = echarts.init(document.getElementById('new5WhyRcaStatus'));	
$.get('/newfiveWhyRcaStatus').done(function (data) {
        myChart5WhyRcaStatus.hideLoading(); 
        myChart5WhyRcaStatus.setOption(
		{
		title: {
              text: "5WhyRca Status", //标题
              padding: [12, 4], //距离上下4px
              x: "center", //居中
              textStyle: {
                color: "#3398DB", //主标题的颜色
                fontSize: "18" //主标题的大小
              },
            },

            color: ['#3398DB'],
            
            tooltip : {
                trigger: 'axis',
                formatter:'{c}',　　　　   //这是关键，以百分比的形式显示
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    data : data.category,
                    axisTick: {
                        alignWithLabel: true
                    },
										axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
					 
							 color:"black",

							 //fontSize:12

						}

					}
                }
            ],
            
            yAxis: [
                      {  
                                type: 'value',  
                                axisLabel: {  
                                    show: true,  
                                    interval: 'auto',  
                                    formatter: '{value}'  
                                    },  
                                show: true  
                        }  
                    ],
            
            label: {
                                show: true,
                                position: 'top',
                                formatter: '{b}\n{c}'　//在柱状图的顶部显示出某个东西和这个东西的百分比值
                    },
                    
            series : [
                {
                    name:'5WhyRcaData',
                    type:'bar',
                    barWidth: '60%',
                    data:data.value    
				}
            
            ]
		}
		);
    });

//点击事件
//full column anywhere
myChart5WhyRcaStatus.getZr().on('click', params => {
          let pointInPixel = [params.offsetX, params.offsetY]
          if (myChart5WhyRcaStatus.containPixel('grid', pointInPixel)) {
            let xIndex = myChart5WhyRcaStatus.convertFromPixel({ seriesIndex: 0 }, [params.offsetX, params.offsetY])[0]
			if (xIndex==0){
				window.open("fiveWhyRcaTaskTotal");}
			if (xIndex==1){
				window.open("fiveWhyRcaTaskClosed");}
			if (xIndex==2){
				window.open("fiveWhyRcaTaskClosedInTime");}
			if (xIndex==3){
				window.open("fiveWhyRcaTaskClosedNoInTime");}
			if (xIndex==4){
				window.open("fiveWhyRcaTaskOpen");}
			if (xIndex==5){
				window.open("fiveWhyRcaTaskOverDue");}
            //var name = params.name;
			//alert("Display all the items?")
			//console.log(xIndex)
          }
        });
		
var myChartRcaEdaStatus = echarts.init(document.getElementById('newRcaEdaStatus'));	
$.get('/newRcaEdaStatus').done(function (data) {
        myChartRcaEdaStatus.hideLoading();
        myChartRcaEdaStatus.setOption(
		{
		title: {
              text: "RCA/EDA Status", //标题
              padding: [12, 4], //距离上下4px
              x: "center", //居中
              textStyle: {
                color: "#3398DB", //主标题的颜色
                fontSize: "18" //主标题的大小
              },
            },
            color: ['#3398DB'], 
            tooltip : {
                trigger: 'axis',
                formatter:'{c}',　　　　   //这是关键，以百分比的形式显示
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    data : data.category,
                    axisTick: {
                        alignWithLabel: true
                    },
			axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
							 color:"black",
							 //fontSize:12
						}
					}
                }
            ],     
            yAxis: [
                      {  
							type: 'value',  
							axisLabel: {  
								show: true,  
								interval: 'auto',  
								formatter: '{value}'  
								},  
							show: true  
                        }  
                    ],
            
            label: {
						show: true,
						position: 'top',
						formatter: '{b}\n{c}'　//在柱状图的顶部显示出某个东西和这个东西的百分比值
                    },
                    
            series : [
                {
                    name:'5WhyRcaData',
                    type:'bar',
                    barWidth: '60%',
                    data:data.value    
				}
            
            ]
		}
		);
    });

myChartRcaEdaStatus.getZr().on('click', params => {
          let pointInPixel = [params.offsetX, params.offsetY]
          if (myChartRcaEdaStatus.containPixel('grid', pointInPixel)) {
            let xIndex = myChartRcaEdaStatus.convertFromPixel({ seriesIndex: 0 }, [params.offsetX, params.offsetY])[0]
			if (xIndex==0){
				window.open("RcaEdaTotal");}
			if (xIndex==1){
				window.open("RcaEdaClosed");}
			if (xIndex==2){
				window.open("RcaEdaClosedInTime");}
			if (xIndex==3){
				window.open("RcaEdaClosedNoInTime");}
			if (xIndex==4){
				window.open("RcaEdaOpen");}
			if (xIndex==5){
				window.open("RcaEdaOverDue");}
            //var name = params.name;
			//alert("Display all the items?")
			//console.log(xIndex)
          }
        });

var myChartRcaEdaApStatus = echarts.init(document.getElementById('newRcaEdaApStatus'));	
$.get('/newRcaEdaApStatus').done(function (data) {
        myChartRcaEdaApStatus.hideLoading(); 
        myChartRcaEdaApStatus.setOption(
		{
		title: {
              text: "RCA/EDA AP Status", //标题
              padding: [12, 4], //距离上下4px
              x: "center", //居中
              textStyle: {
                color: "#3398DB", //主标题的颜色
                fontSize: "18" //主标题的大小
              },
            },
            color: ['#3398DB'],    
            tooltip : {
                trigger: 'axis',
                formatter:'{c}',　　　　   //这是关键，以百分比的形式显示
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            grid: {
                left: '3%',
                right: '4%',
                bottom: '3%',
                containLabel: true
            },
            xAxis : [
                {
                    type : 'category',
                    data : data.category,
                    axisTick: {
                        alignWithLabel: true
                    },
			axisLabel:{

						  rotate:0,
						  interval:0,
						  textStyle:{
					 
							 color:"black",

							 //fontSize:12
						}
					}
                }
            ],     
            yAxis: [
                      {  
							type: 'value',  
							axisLabel: {  
								show: true,  
								interval: 'auto',  
								formatter: '{value}'  
								},  
							show: true  
                        }  
                    ],
            
            label: {
						show: true,
						position: 'top',
						formatter: '{b}\n{c}'　//在柱状图的顶部显示出某个东西和这个东西的百分比值
                    },
                    
            series : [
                {
                    name:'5WhyRcaData',
                    type:'bar',
                    barWidth: '60%',
                    data:data.value    
				}
            
            ]
		}
		);
    });

myChartRcaEdaApStatus.getZr().on('click', params => {
          let pointInPixel = [params.offsetX, params.offsetY]
          if (myChartRcaEdaApStatus.containPixel('grid', pointInPixel)) {
            let xIndex = myChartRcaEdaApStatus.convertFromPixel({ seriesIndex: 0 }, [params.offsetX, params.offsetY])[0]
			if (xIndex==0){
				window.open("RcaEdaApTotal");}
			if (xIndex==1){
				window.open("RcaEdaApClosed");}
			if (xIndex==2){
				window.open("RcaEdaApClosedInTime");}
			if (xIndex==3){
				window.open("RcaEdaApClosedNoInTime");}
			if (xIndex==4){
				window.open("RcaEdaApOpen");}
			if (xIndex==5){
				window.open("RcaEdaApOverDue");}
            //var name = params.name;
			//alert("Display all the items?")
			//console.log(xIndex)
          }
        });

var hzmonthlyfivewhyrca = echarts.init(document.getElementById('hzmonthlyfivewhyrca'));	
var    hzmonthlyfivewhyrcaoption = {
            title : {
                text: 'RCA/EDA AP Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Done', 'AP Undone'],

				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },

            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data : ['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai'],
					axisLabel:{

                          rotate:10, //刻度旋转45度角

                          textStyle:{

                             color:"blue",
                        }

                    }
                }
				
            ],

            series : [
                {
                    name:'AP Undone',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
        };

//hzmonthlyfivewhyrca.setOption(hzmonthlyfivewhyrcaoption);
$.get('/hzmonthlyfivewhyrca').done(function (data) {
        hzmonthlyfivewhyrca.hideLoading(); 
        hzmonthlyfivewhyrca.setOption(
		{
            title : {
                text: data.user,
                subtext: '5WhyRCA Status',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 //fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : { 
                    type : 'shadow'
                }
            },
            legend: {
                data:['Closed','ClosedInTime','ClosedNoInTime','Open', 'OverDue'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}
				}
            ],
			/*
			grid: {
				x: 40,
				x2: 0,
				y2: 70,
			},*/                 
            series : [
                {
                    name:'Closed',//['RCA/EDA Arrival','RCA/EDA Planned', 'RCA/EDA Missed'
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Closed  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'ClosedInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'ClosedNoInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedNoInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'Open',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'OverDue',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OverDue //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });


hzmonthlyfivewhyrca.on('click', function(params) {
	alert("Check the 5WhyRca list of "+params.name +" ?")
	window.open("fiveWhyRcaStatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});
		
var hzmonthlyRcaEda = echarts.init(document.getElementById('hzmonthlyRcaEda'));	
$.get('/hzmonthlyRcaEda').done(function (data) {
        hzmonthlyRcaEda.hideLoading(); 
        hzmonthlyRcaEda.setOption(
		{
            title : {
                text: data.user,
                subtext: 'RCA/EDA Status',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 //fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : { 
                    type : 'shadow'
                }
            },
            legend: {
                data:['Closed','ClosedInTime','ClosedNoInTime','Open', 'OverDue'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}
				}
            ],
			/*
			grid: {
				x: 40,
				x2: 0,
				y2: 70,
			},*/                 
            series : [
                {
                    name:'Closed',//['RCA/EDA Arrival','RCA/EDA Planned', 'RCA/EDA Missed'
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Closed  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'ClosedInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'ClosedNoInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedNoInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'Open',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'OverDue',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OverDue //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });
hzmonthlyRcaEda.on('click', function(params) {
	alert("Check the RCA/EDA list of "+params.name +" ?")
	window.open("MonthlyRcaEdaStatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});

var hzmonthlyRcaEdaAp = echarts.init(document.getElementById('hzmonthlyRcaEdaAp'));	
$.get('/hzmonthlyRcaEdaAp').done(function (data) {
        hzmonthlyRcaEdaAp.hideLoading(); 
        hzmonthlyRcaEdaAp.setOption(
		{
            title : {
                text: data.user,
                subtext: 'RCA/EDA AP Status',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 //fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : { 
                    type : 'shadow'
                }
            },
            legend: {
                data:['Closed','ClosedInTime','ClosedNoInTime','Open', 'OverDue'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}
				}
            ],
			/*
			grid: {
				x: 40,
				x2: 0,
				y2: 70,
			},*/                 
            series : [
                {
                    name:'Closed',//['RCA/EDA Arrival','RCA/EDA Planned', 'RCA/EDA Missed'
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Closed  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'ClosedInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'ClosedNoInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedNoInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'Open',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'OverDue',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OverDue //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });
hzmonthlyRcaEdaAp.on('click', function(params) {
	alert("Check the AP list of "+params.name +" ?")
	window.open("RcaEdaApStatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});

var teammonthlyRcaEdaAp = echarts.init(document.getElementById('teammonthlyRcaEdaAp'));	
$.get('/teammonthlyRcaEdaAp').done(function (data) {
        teammonthlyRcaEdaAp.hideLoading(); 
        teammonthlyRcaEdaAp.setOption(
		{
            title : {
                text: data.user,
                subtext: 'Team RCA/EDA AP Status',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 //fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : { 
                    type : 'shadow'
                }
            },
            legend: {
                data:['Closed','ClosedInTime','ClosedNoInTime','Open', 'OverDue'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            }, */
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:12,
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}
				}
            ],
			/*
			grid: {
				x: 40,
				x2: 0,
				y2: 70,
			},*/                 
            series : [
                {
                    name:'Closed',//['RCA/EDA Arrival','RCA/EDA Planned', 'RCA/EDA Missed'
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Closed  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'ClosedInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'ClosedNoInTime',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.ClosedNoInTime //[120, 132, 101, 134, 90, 230, 210,120]
                },
			    {
                    name:'Open',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'OverDue',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OverDue //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });
teammonthlyRcaEdaAp.on('click', function(params) {
	alert("Check the AP list of "+params.name +" ?")
	window.open("TeamRcaEdaApStatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});

var myChart_customer_rca = echarts.init(document.getElementById('customer_rca'));
$.get('/TeamRcaEdaStatus').done(function (data) {
        myChart_customer_rca.hideLoading(); // 隐藏加载动画
        myChart_customer_rca.setOption(
		{
            title : {
                text: data.user,
                subtext:'Team RCA/EDA Status' ,
                x:'center'
            },
            series : [
                {
                    name:'MNRCA RCA Status',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
						{value: data.rcaundone, name:'RCA/EDA Open'},
                        {value: data.rcadone, name:'RCA/EDA Closed'}
                        
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		}
		);
    });
myChart_customer_rca.on('click', function(params) {
	//alert("Check the AP list of "+params.name +" ?")
	if (params.name == 'RCA/EDA Closed') {
				window.open("TeamRcaEdaClosed");}
	if (params.name == 'RCA/EDA Open') {
				window.open("TeamRcaEdaOpen");}
	//window.open("TeamRcaEdaApStatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});
var myChart_tdd_customer_ap = echarts.init(document.getElementById('tdd_customer_ap'));	
var    option_tribe_customer_ap = {
            title : {
                text: 'RCA/EDA AP Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Closed', 'AP Open'],

				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },

            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data : ['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai'],
					axisLabel:{

                          rotate:10, //刻度旋转45度角

                          textStyle:{

                             color:"blue",
                        }

                    }
                }
				
            ],

            series : [
                {
                    name:'AP Open',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Closed',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
        };

//myChart_tdd_customer_ap.setOption(option_tribe_customer_ap);

$.get('/tddapstatus').done(function (data) {
        myChart_tdd_customer_ap.hideLoading(); // 隐藏加载动画

        myChart_tdd_customer_ap.setOption(
		{
            title : {
                text: 'RCA/EDA APs Status',
                subtext: 'All Team Included',
                x:'center' 
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Closed', 'AP Open'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
                            axisLabel:{

              rotate:15, //刻度旋转45度角
			  interval:0,
              textStyle:{
		 
                 color:"blue",

            }
					}
				}
            ],              
            series : [
                {
                    name:'AP Open',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Open  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Closed',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Closed //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });

myChart_tdd_customer_ap.on('click', function(params) {
	alert("Check the AP list of "+params.name +" ?")
	window.open("tddapstatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});
var myChart_tdd_customer_rca = echarts.init(document.getElementById('tdd_customer_rca'));	
var    option_tribe_customer_rca = {
            title : {
                text: 'Tribe MNRCA RCA Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['RCA/EDA Closed', 'RCA/EDA Open'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data : ['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai'],
					axisLabel:{

						  rotate:0, //刻度旋转45度角
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}

                }
            ],

            series : [
                {
                    name:'RCA/EDA Open',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'RCA/EDA Closed',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
        };

//myChart_tdd_customer_rca.setOption(option_tribe_customer_rca);

$.get('/tddrcastatus').done(function (data) {
        myChart_tdd_customer_rca.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart_tdd_customer_rca.setOption(
		{
            title : {
                text: 'RCA/EDA Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['RCA/EDA Closed', 'RCA/EDA Open'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },

            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team, //['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
                            axisLabel:{

              rotate:15, //刻度旋转45度角
			  interval:0,
              textStyle:{
		 
                 color:"blue",

            }
					}
                }
            ],
            series : [
                {
                    name:'RCA/EDA Open',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.rcaundone  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'RCA/EDA Closed',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.rcadone //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });	
myChart_tdd_customer_rca.on('click', function(params) {
	alert("Check the AP list of "+params.name +" ?")
	window.open("tddrcastatus/"+params.name)
    //console.log(params); 
	//var name = parseInt(params.name);
});	
	
//End JIRA

 // RootCause  Distribution
 
var myChart_rootcause = echarts.init(document.getElementById('rootcausedistribution'));	
var   option_rootcause = {
            title : {
                text: 'Root Cause Category',
                subtext: 'Total Level',
                x:'center'
            },

            legend: {
                orient : 'horizontal',//'vertical',   
				//left: 'left',
                x : '38%',//'right',  // 'center' | 'left' | {number},
    
				y: '85%', // 'center' | 'bottom' | {number}    

                data:[]
				//data:['RCA/EDA Open','RCA/EDA Closed']
            },

            series : [
                {
                    name:'Tribe RCA Status',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
                        {value:[0], name:'RCA/EDA Closed'},
                        {value:[0], name:'RCA/EDA Open'}
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		};
		
myChart_rootcause.setOption(option_rootcause);

// myChart2.showLoading(); // 显示加载动画
    
    // 异步加载数据
    $.get('/rootcausedistribution').done(function (data) {
        myChart_rootcause.hideLoading(); // 隐藏加载动画
        

        // 填入数据
        myChart_rootcause.setOption(

		{
            title : {
                text: data.user,
                subtext:'Total Level' ,
                x:'center'
            },
            legend: {
                orient : 'horizontal',//'vertical',   
				//left: 'left',
                x : '38%',//'right',  // 'center' | 'left' | {number},
    
				y: '85%', // 'center' | 'bottom' | {number}    

                data:data.rootcause
				//data:['RCA/EDA Open','RCA/EDA Closed']
            },
            series : [
                {
                    name:data.rootcause,
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
						{value: data.count[0], name:data.rootcause[0]},
                        {value: data.count[1], name:data.rootcause[1]},
						{value: data.count[2], name:data.rootcause[2]},
                        {value: data.count[3], name:data.rootcause[3]},
						{value: data.count[4], name:data.rootcause[4]},
                        {value: data.count[5], name:data.rootcause[5]},
						{value: data.count[6], name:data.rootcause[6]},
                        {value: data.count[7], name:data.rootcause[7]},
                        {value: data.count[8], name:data.rootcause[8]},
                        {value: data.count[9], name:data.rootcause[9]},
						{value: data.count[10], name:data.rootcause[10]}
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		}
		);
    });

// Function Area
var myChart_functionarea = echarts.init(document.getElementById('functionareadistribution'));	
var   option_functionarea = {
            title : {
                text: 'Function Area',
                subtext: 'Total Level',
                x:'center'
            },

            legend: {
                orient : 'horizontal',//'vertical',   
				//left: 'left',
                x : '38%',//'right',  // 'center' | 'left' | {number},
    
				y: '85%', // 'center' | 'bottom' | {number}    

                data:[]
				//data:['RCA/EDA Open','RCA/EDA Closed']
            },

            series : [
                {
                    name:'Tribe RCA Status',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
                        {value:[0], name:'RCA/EDA Closed'},
                        {value:[0], name:'RCA/EDA Open'}
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		};
		
myChart_functionarea.setOption(option_functionarea);

    $.get('/functionareadistribution').done(function (data) {
        myChart_functionarea.hideLoading(); // 隐藏加载动画
		                var servicedata=[];

                for(var i=0;i<data.count.length;i++){
                    var obj=new Object();
                    obj.name=data.functionarea[i]; 
                    obj.value=data.count[i];
                    servicedata[i]=obj;
                }
        myChart_functionarea.setOption(
		{
            title : {
                text: data.user,
                subtext:'Total Level' ,
                x:'center'
            },
            legend: {
                orient : 'horizontal',//'vertical',   
				//left: 'left',
                x : '38%',//'right',  // 'center' | 'left' | {number},
				y: '85%', // 'center' | 'bottom' | {number}    
                data:data.functionarea
            },
            series : [
                {
                    name:'Function Area',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:servicedata,
					/*[
						{value: data.count[0], name:data.rootcause[0]},
                        {value: data.count[1], name:data.rootcause[1]},
						{value: data.count[2], name:data.rootcause[2]},
                        {value: data.count[3], name:data.rootcause[3]},
						{value: data.count[4], name:data.rootcause[4]},
                        {value: data.count[5], name:data.rootcause[5]},
						{value: data.count[6], name:data.rootcause[6]},
                        {value: data.count[7], name:data.rootcause[7]},
                        {value: data.count[8], name:data.rootcause[8]},
                        {value: data.count[9], name:data.rootcause[9]},
						{value: data.count[10], name:data.rootcause[10]}
                    ],*/
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		}
		);
    });

</script>

{% endblock %}


var fiveWhyRcaStatus = echarts.init(document.getElementById('fiveWhyRcaStatus'));
$.get('/fiveWhyRcaStatus').done(function (data) {
        fiveWhyRcaStatus.hideLoading();

        fiveWhyRcaStatus.setOption(
		{
            title : {
                text: 'Tribe MNRCA 5WhyRca Task Status',
                subtext: 'All A+B Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {
                    type : 'shadow'
                }
            },
            legend: {
                data:['Total', 'Closed','ClosedInTime','Open','OpenAndOverdue'],
				//orient : 'vertical',
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team
                }
            ],
            series : [
                {
                    name:'Total', //'Total', 'Closed','ClosedInTime','OpenAndOverdue'
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Total  //[320, 302,191, 234, 290, 330, 310,120]
                },
                 {
                    name:'Closed', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Closed //[120, 132, 101, 134, 90, 230, 210,120]
                },


                {
                    name:'ClosedInTime', //'RCA/EDA CycleTime Before', 'RCA/EDA CycleTime After'
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.ClosedInTime  //[320, 302,191, 234, 290, 330, 310,120]
                },
				{
                    name:'Open', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
                 {
                    name:'OpenAndOverdue', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OpenAndOverdue //[120, 132, 101, 134, 90, 230, 210,120]
                },
            ]
		}
		);
    });

var RcaEdaStatus = echarts.init(document.getElementById('RcaEdaStatus'));
$.get('/RcaEdaStatus').done(function (data) {
        RcaEdaStatus.hideLoading();

        RcaEdaStatus.setOption(
		{
            title : {
                text: 'Tribe MNRCA RCA/EDA subtask Status',
                subtext: 'All RCA+EDA Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {
                    type : 'shadow'
                }
            },
            legend: {
                data:['Total', 'Closed','ClosedInTime','Open','OpenAndOverdue'],
				//orient : 'vertical',
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team
                }
            ],
            series : [
                {
                    name:'Total', //'Total', 'Closed','ClosedInTime','OpenAndOverdue'
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.Total  //[320, 302,191, 234, 290, 330, 310,120]
                },
                 {
                    name:'Closed', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Closed //[120, 132, 101, 134, 90, 230, 210,120]
                },


                {
                    name:'ClosedInTime', //'RCA/EDA CycleTime Before', 'RCA/EDA CycleTime After'
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.ClosedInTime  //[320, 302,191, 234, 290, 330, 310,120]
                },
				{
                    name:'Open', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.Open //[120, 132, 101, 134, 90, 230, 210,120]
                },
                 {
                    name:'OpenAndOverdue', //RCA/EDA Planned', 'RCA/EDA Missed
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.OpenAndOverdue //[120, 132, 101, 134, 90, 230, 210,120]
                },
            ]
		}
		);
    });

	var myChart_customer_ap = echarts.init(document.getElementById('customer_ap'));	
$.get('/jirateamapstatus').done(function (data) {
        myChart_customer_ap.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart_customer_ap.setOption(
		{
            title : {
                text: data.user,
                subtext: 'Team MNRCA AP Status',
                x:'center' 
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Arrival','AP Done', 'AP Undone'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },

            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:0, //刻度旋转45度角
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

						}

					}
				}
            ],
	                
            series : [
                {
                    name:'AP Arrival',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.aparrival  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.apdone //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'AP Undone',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.apundone //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });


var myChart2 = echarts.init(document.getElementById('main2'));	
var   option2 = {
            title : {
                text: 'RCA/EDA Status',
                subtext: 'Team Level',
                x:'center'
            },
			/*
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
			*/
            legend: {
                orient : 'horizontal',//'vertical',   
				//left: 'left',
                x : '38%',//'right',  // 'center' | 'left' | {number},
    
				y: '85%', // 'center' | 'bottom' | {number}    

                data:['RCA/EDA Closed','RCA/EDA Open']
				//data:['RCA/EDA Open','RCA/EDA Closed']
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {
                        show: true,
                        type: ['pie', 'funnel'],
                        option: {
                            funnel: {
                                x: '25%',
                                width: '50%',
                                funnelAlign: 'left',
                                max: 1548
                            }
                        }
                    },
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
			*/
            /*calculable : true,*/
            series : [
                {
                    name:'RCA Status',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
                        {value:[0], name:'RCA/EDA Closed'},
                        {value:[0], name:'RCA/EDA Open'}
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		};
		
//myChart2.setOption(option2);

// myChart2.showLoading(); // 显示加载动画
    
    // 异步加载数据
    $.get('/weather').done(function (data) {
        myChart2.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart2.setOption(
			/*{
		    
            xAxis: {
                data: data.month
            },
            series: [{
                name: '蒸发量', // 根据名字对应到相应的系列
                data: data.evaporation.map(parseFloat) // 转化为数字（注意map）
            },
			{
                name: '降水量',
                data: data.precipitation.map(parseFloat)
            }
			]
			
        }*/
		{
            title : {
                text: data.user,
                subtext:'Team Level RCA Status' ,
                x:'center'
            },
			/*
            tooltip : {
                trigger: 'item',
                formatter: "{a} <br/>{b} : {c} ({d}%)"
            },
			
            legend: {
                orient : 'vertical', //'horizontal'    
				//left: 'left',
                x : 'right',//'right',  // 'center' | 'left' | {number},
    
				y: 'top', // 'center' | 'bottom' | {number}    

                data:['RCA/EDA Closed','RCA/EDA Open']
				//data:['RCA/EDA Open','RCA/EDA Closed']
            },
		
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {
                        show: true,
                        type: ['pie', 'funnel'],
                        option: {
                            funnel: {
                                x: '25%',
                                width: '50%',
                                funnelAlign: 'left',
                                max: 1548
                            }
                        }
                    },
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },
			*/
            /*calculable : true,*/
            series : [
                {
                    name:'RCA Status',
                    type:'pie',
                    radius : '55%',
                    center: ['50%', '50%'],
                    data:[
						{value: data.rcaundone, name:'RCA/EDA Open'},
                        {value: data.rcadone, name:'RCA/EDA Closed'}
                        
                    ],
					itemStyle: {
						normal:{
						 label:{
						 show:true,
						 formatter: '{b} : {c} \n ({d}%)'
						 },
						 labelLine:{
						 show:true
						 }
						 },
						emphasis: {
							shadowBlur: 10,
							shadowOffsetX: 0,
							shadowColor: 'rgba(0, 0, 0, 0.5)'
						}
					}
                }		
            ]
		}
		);
    });

var myChart4 = echarts.init(document.getElementById('main4'));	
var    option4 = {
            title : {
                text: 'AP Status',
                subtext: 'Team Level',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Arrival','AP Done', 'AP Undone'],

				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },

            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
			xAxis : [

					{

						type : 'category',

					   // boundaryGap : false,

						data : ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'],

						axisLabel:{

						  //rotate:10, 

						  textStyle:{

							 color:"blue",

							 //fontSize:16

						}

					  }

					}

			   ],

            series : [

                {
                    name:'AP Arrival',
                    type:'bar',
					barGap:'10%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210, 101, 134, 90, 230, 210]
                },
				{
                    name:'AP Undone',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310, 101, 134, 90, 230, 210]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210, 101, 134, 90, 230, 210]
                }
            ]
        };

myChart4.setOption(option4);

$.get('/teamapstatus').done(function (data) {
        myChart4.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart4.setOption(
		{
            title : {
                text: data.user,
                subtext: 'Team Level AP Status',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 //fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Arrival','AP Done', 'AP Undone'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.month,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
					axisLabel:{

						  rotate:0, //刻度旋转45度角
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}
				}
            ],
			/*
			grid: { // 控制图的大小，调整下面这些值就可以，
				x: 40,
				x2: 0,
				y2: 70,// y2可以控制 X轴跟Zoom控件之间的间隔，避免以为倾斜后造成 label重叠到zoom上
			},*/                 
            series : [
                {
                    name:'AP Arrival',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.aparrival  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.apdone //[120, 132, 101, 134, 90, 230, 210,120]
                },
				{
                    name:'AP Undone',
                    type:'bar',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.apundone //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });


var myChart3 = echarts.init(document.getElementById('main3'));	
var    option3 = {
            title : {
                text: 'Overall AP Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Done', 'AP Undone'],

				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data : ['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai'],
					            axisLabel:{

              rotate:10, //刻度旋转45度角

              textStyle:{

                 color:"blue",

                 //fontSize:14

            }

          }
                }
				
            ],

            series : [
                {
                    name:'AP Undone',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
        };

myChart3.setOption(option3);

$.get('/apstatus').done(function (data) {
        myChart3.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart3.setOption(
		{
            title : {
                text: 'Overall APs Status',
                subtext: 'All Team Included',
                x:'center' /*,
				textStyle:{
		 
                 color:"red",

                 fontSize:12
				 }*/
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['AP Done', 'AP Undone'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team,//['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
                            axisLabel:{

              rotate:15, //刻度旋转45度角
			  interval:0,
              textStyle:{
		 
                 color:"blue",

                 //fontSize:12

            }

					}
				}
            ],
			/*
			grid: { // 控制图的大小，调整下面这些值就可以，
				 x: 40,
				 x2: 0,
				 y2: 70,// y2可以控制 X轴跟Zoom控件之间的间隔，避免以为倾斜后造成 label重叠到zoom上
			}, */                
            series : [
                {
                    name:'AP Undone',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.rcaundone  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'AP Done',
                    type:'bar',
                    stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.rcadone //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });


var myChart1 = echarts.init(document.getElementById('main1'));	
var    option1 = {
            title : {
                text: 'Overall RCA Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['RCA/EDA Closed', 'RCA/EDA Open'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data : ['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai'],
					axisLabel:{

						  rotate:0, //刻度旋转45度角
						  interval:0,
						  textStyle:{
					 
							 color:"blue",

							 //fontSize:12

						}

					}

                }
            ],
			/*
			grid: { // 控制图的大小，调整下面这些值就可以，
				 x: 40,
				 x2: 0,
				 y2: 70,// y2可以控制 X轴跟Zoom控件之间的间隔，避免以为倾斜后造成 label重叠到zoom上
			},*/
            series : [
                {
                    name:'RCA/EDA Open',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'RCA/EDA Closed',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:[] //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
        };

//myChart1.setOption(option1);

$.get('/rcastatus').done(function (data) {
        myChart1.hideLoading(); // 隐藏加载动画
        
        // 填入数据
        myChart1.setOption(
		{
            title : {
                text: 'Overall RCA Status',
                subtext: 'All Team Included',
                x:'center'
            },
            tooltip : {
                trigger: 'axis',
                axisPointer : {            // 坐标轴指示器，坐标轴触发有效
                    type : 'shadow'        // 默认为直线，可选为：'line' | 'shadow'
                }
            },
            legend: {
                data:['RCA/EDA Closed', 'RCA/EDA Open'],
				//x : 'right',
				y: 'bottom',// 'top'| 'center' | 'bottom' | {number}
            },
			/*
            toolbox: {
                show : true,
                feature : {
                    mark : {show: true},
                    dataView : {show: true, readOnly: false},
                    magicType : {show: true, type: ['line', 'bar', 'stack', 'tiled']},
                    restore : {show: true},
                    saveAsImage : {show: true}
                }
            },*/
            calculable : true,
            yAxis : [
                {
                    type : 'value'
                }
            ],
            xAxis : [
                {
                    type : 'category',
                    data :data.team, //['zhangyijie','Yangjinyong','Caizhichao','Chenlong','Liumingjing','Xiezhen','Lizhongyuan','Lanshenghai']
                    axisLabel:{
                        rotate:15, //刻度旋转45度角
                        interval:0,
                        textStyle:{
                 
                            color:"blue",

                        }
					}
                }
            ],
            series : [
                {
                    name:'RCA/EDA Open',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data: data.rcaundone  //[320, 302,191, 234, 290, 330, 310,120]
                },
                {
                    name:'RCA/EDA Closed',
                    type:'bar',
					barGap:'1%',
                    //stack: 'total',
                    itemStyle : { normal: {label : {show: true, position: 'insideRight'}}},
                    data:data.rcadone //[120, 132, 101, 134, 90, 230, 210,120]
                }
            ]
		}
		);
    });

